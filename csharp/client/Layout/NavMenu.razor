@using BlazorApp1.Providers
@inject AuthenticationStateProvider authProvider;

<nav style="margin-bottom: 20px" class="bg-white border-gray-200 shadow-md relative">
    <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
        <div class="flex justify-between items-center w-full md:w-full" id="navbar-default">
            <NavLink href="/" class="flex">
                <img src="assets/blueberries-svgrepo-com.svg" alt="Blueberries" class="w-12 h-12"/>
                <div>
                    <p class="font-bold text-xl leading-none">BYEBYE</p>
                    <p class="font-bold text-xl leading-none">ROTTEN</p>
                </div>
            </NavLink>
            <ul class="font-medium flex flex-col p-4 md:p-0 mt-4 border border-gray-100 rounded-lg bg-gray-50 md:flex-row md:space-x-8 rtl:space-x-reverse md:mt-0 md:border-0 md:bg-white">
                <AuthorizeView Roles="User">
                    <li>
                        <NavLink
                            class="link block py-2 px-3 text-indigo-700 bg-indigo-700 rounded md:bg-transparent md:p-0"
                            href="" Match="NavLinkMatch.All">
                            Home
                        </NavLink>
                    </li>
                    <li>
                        <NavLink
                            class="link block py-2 px-3 text-indigo-700 bg-indigo-700 rounded md:bg-transparent md:p-0"
                            href="week" Match="NavLinkMatch.All">
                            Week
                        </NavLink>
                    </li>
                    <li>
                        <NavLink
                            class="link block py-2 px-3 text-indigo-700 bg-indigo-700 rounded md:bg-transparent md:p-0"
                            href="subscription" Match="NavLinkMatch.All">
                            Subscription
                        </NavLink>
                    </li>
                    <li>
                        <a
                            class="link block py-2 px-3 text-indigo-700 bg-indigo-700 rounded md:bg-transparent md:p-0"
                            onclick="@Logout" href="/">
                            Logout
                        </a>
                    </li>
                </AuthorizeView>
                <AuthorizeView Roles="Admin">
                    <li>
                        <NavLink
                            class="link block py-2 px-3 text-indigo-700 bg-indigo-700 rounded md:bg-transparent md:p-0"
                            href="/" Match="NavLinkMatch.All">
                            Home
                        </NavLink>
                    </li>
                    <li>
                        <NavLink
                            class="link block py-2 px-3 text-indigo-700 bg-indigo-700 rounded md:bg-transparent md:p-0"
                            href="test" Match="NavLinkMatch.All">
                            Ingredients
                        </NavLink>
                    </li>
                    <li>
                        <NavLink
                            class="link block py-2 px-3 text-indigo-700 bg-indigo-700 rounded md:bg-transparent md:p-0"
                            href="recipes" Match="NavLinkMatch.All">
                            Recipes
                        </NavLink>
                    </li>
                    <li>
                        <a
                            class="link block py-2 px-3 text-indigo-700 bg-indigo-700 rounded md:bg-transparent md:p-0"
                            onclick="@Logout" href="/">
                            Logout
                        </a>
                    </li>
                </AuthorizeView>
                <AuthorizeView>

                    <NotAuthorized>
                        <li>
                            <NavLink
                                class="link block py-2 px-3 text-indigo-700 bg-indigo-700 rounded md:bg-transparent md:p-0"
                                href="register" Match="NavLinkMatch.All">
                                Register
                            </NavLink>
                        </li>
                        <li>
                            <NavLink
                                class="link block py-2 px-3 text-indigo-700 bg-indigo-700 rounded md:bg-transparent md:p-0"
                                href="login" Match="NavLinkMatch.All">
                                Login
                            </NavLink>
                        </li>
                    </NotAuthorized>
                </AuthorizeView>
            </ul>
        </div>
    </div>
</nav>

<style>
    .navbar {
        margin-bottom: 20px;
    }
</style>

@code
{
    private void Logout()
    {
        ((AuthProvider)authProvider).Logout();
    }
}
